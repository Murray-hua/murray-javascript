<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>QQ简易聊天框</title>
    <link rel="stylesheet" href="../素材/css/chat.css">
</head>

<style>
    .chatBody div {
        padding: 10px;
    }

    .chatBody div::after {
        content: "";
        clear: both;
        display: block;
    }
    .chatBody div h2 {
            font-size: 14px;
        }
    .chatBody div img {
        float: left;
        margin-right: 10px;
    }

    .chatBody div p {
        background-color: #eee;
        padding: 10px;
        border-radius: 5px;
        width: 85%;
        float: right;
    }
</style>

<body>
    <section id="chat">
        <div class="chatBody"></div>
        <div><img src="images/icon.jpg"></div>
        <textarea class="chatText"></textarea>
        <div class="btn"><span>关闭(C)</span><span id="send">发送(S)</span></div>
    </section>
</body>
<script src='https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
<script>
    $(document).ready(function() {
        // 保存聊天者的头像和昵称
        var headImg = new Array("head01.jpg", "head02.jpg", "head03.jpg");
        var uName = new Array("时尚伊人", "六月奇迹", "松松");
        // 点击鼠标事件
        $("#send").click(function() {
            //判断聊天内容长度>0，显示在上面
            if ($(".chatText").val().length > 0) {
                //获取聊天内容
                var str = $(".chatBody").html();
                //随机数
                var iNum = Math.floor(Math.random() * 3);
                //获得随机图片
                var headStr = "<div><img src='images/" + headImg[iNum] + "'</div>";
                //获得随机名字
                var useName = "<h2>" + uName[iNum] + "</h2>";

                //获取当前输入的内容
                var chaStr = "<p>" + $(".chatText").val() + "</p>"
                //把内容放到chatbox里头
                var currentStr = "<section>" + headStr + useName + chaStr + "</section>";

                //显示在指定位置，清楚内容
                $(".chatBody").html(str + currentStr);
                $(".chatBody section div:last").addClass("chatContent");
                $(".chatText").val("");
            }
        });
    });
</script>

</html>